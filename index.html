<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Lista de Casamento</title>
</head>
<body>

<h1>Lista de Casamento ğŸ’</h1>

<ul id="lista-presentes">
  <li>Carregando presentes...</li>
</ul>

<!-- Firebase compat (SEM module) -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<script>
  firebase.initializeApp({
    apiKey: "AIzaSyCTBqA3PVyxQmIvk8k7Ia1HIeGsci_rqdY",
    authDomain: "lista-casamento-f19c4.firebaseapp.com",
    projectId: "lista-casamento-f19c4",
  });

  const db = firebase.firestore();
</script>

<script>
  const lista = document.getElementById("lista-presentes");

  db.collection("presentes").onSnapshot(snapshot => {
    console.log("Snapshot recebido:", snapshot.size);

    lista.innerHTML = "";

    snapshot.forEach(doc => {
      const p = doc.data();
      const li = document.createElement("li");

      li.textContent = p.escolhido
        ? ${p.nome} â€” âŒ JÃ¡ escolhido
        : p.nome;

      lista.appendChild(li);
    });
  });
</script>

</body>
</html>
